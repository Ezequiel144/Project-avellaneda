---
//import listBusiness from "../../../data/business.data.json";
import type { Business, BusinessItemCard } from "../../../interface";
import { strapiFetch } from "../../../utils/fetch";
import Cards from "../../UI/Cards/Tag/Cards.astro";

/* console.log(listBusiness); */

const res = await strapiFetch(
  "/businesses?fields[0]=title&fields[1]=shortdescription&populate[imagelogo][fields][0]=url&populate[tags][fields][0]=*&pagination[page]=1&pagination[pageSize]=12",
  {
    method: "GET",
  }
);

const listBusiness = res.data;
//console.log(res);
---

<section class="flex flex-col w-full py-6 gap-y-6">
  <article class="flex flex-col gap-y-3">
    <h2 class="font-semibold text-3xl">Locales</h2>
    <p class="font-normal text-base text-black/60">
      Mira todos los locales que est√°n registrados en nuestra web
    </p>
  </article>
  <ul class="flex justify-between flex-wrap gap-5">
    {
      listBusiness.map((item: BusinessItemCard) => (
        <Cards
          imageLogo={item.imagelogo.url}
          title={item.title}
          tags={item.tags}
          shortDescription={item.shortdescription}
        />
      ))
    }
  </ul>
  <button> Ver locales </button>
</section>
